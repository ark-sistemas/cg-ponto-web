<?xml version="1.0" encoding="utf-8" ?>
<ui:composition template="template.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a="http://www.ambientinformatica.com.br/jsf2"
	xmlns:p="http://primefaces.org/ui">



	<ui:define name="corpo">
		<h:form id="form">
			<p:growl id="msgs" showDetail="true" for="dd" />
			<p:panel header="Funcionario" id="panel">
				<h:panelGrid columns="4">
					<h:outputText value="Funcionario"></h:outputText>
					<p:autoComplete id="dd" dropdown="true" multiple="false"
						value="#{AjusteDeRegistroControl.funcionario}"
						completeMethod="#{AjusteDeRegistroControl.autoComplete}"
						process="@this" style="width:600px;" maxResults="5" size="82"
						onkeyup="this.value = this.value.toLowerCase();" var="funcionario"
						itemLabel="#{funcionario.nome}" itemValue="#{funcionario}"
						forceSelection="true" converter="funcionarioConvert">
					</p:autoComplete>
					<p:commandButton value="Carregar Funcionario"
						action="#{AjusteDeRegistroControl.listarAutoComplete}"
						style="margin-left:15px; width:100px" update="AjusteDeRegisgro"/>
				</h:panelGrid>
			</p:panel>
			<p:dataTable id="AjusteDeRegisgro" var="ajuste"
				value="#{AjusteDeRegistroControl.ajusteDeRegistros}">
				<f:facet name="header">
            			Registro de Ponto
        			</f:facet>

				<p:ajax event="cellEdit"
					listener="#{AjusteDeRegistroControl.onCellEdit}" update="@form" />

				<p:column headerText="Id">
					<f:facet name="output">
						<h:outputText value="ID"></h:outputText>
					</f:facet>
					<h:outputText value="#{ajuste.idRegistro}" />
				</p:column>

				<p:column sortBy="#{ajuste.idFuncionario}">
					<f:facet name="header">
						<h:outputText value="Id do funcionario" />
					</f:facet>
					<h:outputText value="#{ajuste.idFuncionario}" />
				</p:column>

				<p:column headerText="Data">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{ajuste.data}" />
						</f:facet>
						<f:facet name="input">
							<p:inputText value="#{ajuste.data}" style="width:96%"
								label="Data" />
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column headerText="Jornada Diária">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{ajuste.idcodigoJornadaTrabalho}" />
						</f:facet>
						<f:facet name="input">
							<p:inputText value="#{ajuste.idcodigoJornadaTrabalho}"
								style="width:96%" label="Jornada Diária" />
						</f:facet>
					</p:cellEditor>
				</p:column>


				<p:column headerText="Primeira Entrada">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{ajuste.primeiraEntrada}" />
						</f:facet>
						<f:facet name="input">
							<p:inputText value="#{ajuste.primeiraEntrada}" style="width:96%"
								label="Primeira Entrada" />
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column headerText="Primeira Saida">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{ajuste.primeiraSaida}" />
						</f:facet>
						<f:facet name="input">
							<p:inputText value="#{ajuste.primeiraSaida}" style="width:96%"
								label="Primeira Saida" />
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column headerText="Segunda Entrada">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{ajuste.segundaEntrada}" />
						</f:facet>
						<f:facet name="input">
							<p:inputText value="#{ajuste.segundaEntrada}" style="width:96%"
								label="Segunda Entrada" />
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column headerText="Segunda Saida">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{ajuste.segundaSaida}" />
						</f:facet>
						<f:facet name="input">
							<p:inputText value="#{ajuste.segundaSaida}" style="width:96%"
								label="Segunda Saida" />
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column headerText="Saldo">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{ajuste.saldo}" />
						</f:facet>
						<f:facet name="input">
							<p:inputText value="#{ajuste.saldo}" style="width:96%"
								label="saldo" />
						</f:facet>
					</p:cellEditor>
				</p:column>
			</p:dataTable>

			<p:contextMenu for="AjusteDeRegisgro" widgetVar="cMenu">
				<p:menuitem value="Edit Cell" icon="pi pi-search"
					onclick="PF('cellCars').showCellEditor();return false;" />
				<p:menuitem value="Hide Menu" icon="pi pi-times"
					onclick="PF('cMenu').hide()" />
			</p:contextMenu>

		</h:form>
	</ui:define>
</ui:composition>